{% style %}
  .desktop-multicolumn-menu {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 2rem;
  }
{% endstyle %}
<div class="desktop-multicolumn-menu page-width">
  {%- liquid
    assign padding_multiplier = 1
    if section.settings.layout == 'section'
      assign padding_multiplier = 2
    endif
    assign desktop_tablet_padding = 100 | times: padding_multiplier | append: 'px'
    assign mobile_padding = 30 | times: padding_multiplier | append: 'px'
  -%}
  {%- capture sizes -%}
    (min-width: {{ settings.page_width }}px) calc(({{ settings.page_width }}px - {{ desktop_tablet_padding }}) / 2),
    (min-width: 750px) calc((100vw - {{ desktop_tablet_padding }}) / 2),
    calc(100vw - {{ mobile_padding }})
  {%- endcapture -%}
  {%- for block in section.blocks -%}
    <a style="display: flex; flex-direction: column; width: 100%;" href="{{ block.settings.link.url }}">
      {{
        block.settings.image
        | image_url: width: 3200
        | image_tag:
          sizes: sizes,
          widths: '50, 75, 100, 150, 200, 300, 400, 500, 750, 1000, 1250, 1500, 1750, 2000, 2250, 2500, 2750, 3000, 3200',
          style: 'width:100%;height:auto;'
      }}
      <h2>{{ block.settings.body }}</h2>
      <span style="display:flex;text-decoration: none;color:rgba(var(--color-foreground), 1);font-size: 1.5rem;align-items:center;">
        {{- block.settings.link_text -}}
        <div style="display:flex;align-items:center;justify-content:center;margin-left: 1rem;width:1.5rem;height:1.5rem;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
            <path style="fill:#232326" d="m17.5 5.999-.707.707 5.293 5.293H1v1h21.086l-5.294 5.295.707.707L24 12.499l-6.5-6.5z" data-name="Right"/>
          </svg>
        </div>
      </span>
    </a>
  {% endfor %}
</div>
{% schema %}
{
  "name": "Multicolumn Menu",
  "settings": [],
  "blocks": [
    {
      "type": "link",
      "name": "Page Link",
      "settings": [
        {
          "type": "inline_richtext",
          "id": "body",
          "label": "Body"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "text",
          "id": "link_text",
          "label": "Link Text"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Multicolumn Menu",
      "blocks": []
    }
  ]
}
{% endschema %}
